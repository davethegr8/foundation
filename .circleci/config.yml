# machine:
#   php:
#     version: 5.6.22

# dependencies:
#   pre:
#     - apt-get install jq

# test:
#   override:
#     - composer test
#   post:
#     - cat docs/coverage/coverage.txt
#     - ./coverage.php
#     - cp docs/coverage/coverage.txt $CIRCLE_ARTIFACTS

version: 2
jobs:
  build:
    docker:
      - image: circleci/php:7.0-cli-browsers
    steps:
      - checkout
      - run: composer install
      - run: composer test
      - run: cat docs/coverage/coverage.txt
      - run: ./coverage.php
      - run:
          name: Creating Dummy Artifacts
          command: mkdir /coverage;
      - store_artifacts:
          path: docs/coverage/coverage.txt
          destination: coverage.txt
